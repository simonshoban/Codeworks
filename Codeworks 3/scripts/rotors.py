#! /usr/bin/env python

class Rotors:
	rotorI 						= ['7', 'L', 'o', 'G', 'q', 'f', 'W', '\x07', '%', '6', 'I', 'd', 'g', '.', '\x04', 'T', 'H', '\x1a', '\x7f', 'E', '"', 'P', 'J', '\x02', 'A', 'm', 'e', 'R', '\x06', 'x', '\x0f', '1', '+', 'v', '!', 'b', "'", '#', 'y', '\r', '\x14', 'c', '/', 'C', 'S', '\x16', '|', 'M', ')', '&', '^', 'l', '\n', 'i', 'p', '=', '5', 'a', 'u', 'r', '(', ' ', '\x1d', 'k', 'N', '\x1b', 'V', '\x11', '>', 's', 'F', 'n', '\x0e', '\x18', '\x13', 'X', '\x05', '\x19', 'D', '\x1f', '$', '`', '3', 'j', 'B', '}', ',', '\t', 't', '\x0c', ':', ';', '0', 'w', '{', 'h', '\\', '@', '2', '\x12', ']', 'K', 'O', '*', '~', '\x00', 'z', '[', '<', 'Q', '\x15', 'U', '_', '\x08', '-', 'Y', 'Z', '\x01', '\x0b', '8', '4', '\x03', '\x1e', '\x17', '\x10', '\x1c', '9', '?']
	rotorII 					= ['n', '\x0c', 'W', '\x0f', ')', 'U', '{', '!', 'x', '%', 'F', 'k', '\x08', 'Z', '~', 'L', 'Q', '\x05', 'j', 'l', 'u', 'J', '\x10', '\x1a', '|', 'H', 'S', '$', '\x7f', '@', 'M', 'b', ';', '*', 'T', '2', '\x0b', '\x07', 'g', 'D', '0', 'N', 'f', '+', ':', '?', '\n', '\x14', '.', '\x04', '\\', 'O', '\x17', 'K', '\x1b', '\r', '3', '\x18', 'r', '7', 'i', '\x02', '8', '9', '>', '\x13', '5', 'C', 'w', 'd', 'Y', '[', '\x03', 'c', 'A', '\x1f', 'e', '&', '`', '\x00', '1', 'G', '\x01', 'V', '}', '#', 's', 'B', '\x11', '\t', 'p', 'o', '\x12', '"', ']', 'h', '/', ',', '\x0e', 'q', 'P', '(', '\x1e', '<', 'z', 'R', ' ', '-', '6', '^', 'y', 'a', 'E', '\x1c', '_', "'", '\x1d', '\x06', '\x19', 'I', 'X', 'v', '\x16', 't', '\x15', '=', '4', 'm']
	rotorIII					= ['k', 'h', 'I', '\x19', '^', '\t', 'C', 'v', '"', 'V', '?', ':', 'Q', '\x06', '\x1e', '\x13', '6', 'n', '%', '\x14', 'N', 'R', '2', ';', ')', '7', 'b', '8', 'A', '+', '\x00', '\x0c', 'O', 'B', 'g', '#', '\\', ' ', 'X', '\n', '>', '\x16', '\x02', 'S', 'r', '/', 'd', '~', 'e', '\x1b', '\x0e', '!', 'i', 'Z', 'l', '\x1f', ']', '\x17', 'P', '\x1d', '[', '\x10', '&', '5', '4', 'G', '9', 'q', '-', '$', '\x04', 'f', 'a', 'Y', 'p', 'y', '\x01', 'u', ',', '=', '\x08', '3', "'", 'F', '*', '{', 'c', '`', '1', '\x0f', 'K', '@', 'D', 'o', 'E', '\x15', '\x18', 'z', 'L', '\x03', '\x05', 'T', 't', '0', 'w', '\x0b', '|', '.', '(', '\x7f', 'J', '\r', 's', 'j', '\x11', '_', '}', '\x1c', 'W', '\x1a', 'H', 'x', '<', '\x07', '\x12', 'm', 'U', 'M']
	rotorIV 					= ['\x07', '\x0b', 'h', ',', '\x14', 'G', 'm', '\x0e', '\x0c', 'Y', '0', '}', '>', 'v', '=', '\x17', '4', '&', 'P', '*', 'o', 'S', 'O', 'C', '\x08', '[', 'i', ']', '8', 'a', 'd', 'U', 'A', '{', '`', '\x19', '/', 'L', '\\', '\x1b', '!', '3', 'T', 'p', 't', '\x0f', 'F', ')', '~', 's', 'f', '-', 'E', 'u', '"', '#', '\x1f', '\t', ' ', 'k', 'e', '(', 'R', '9', '\x05', 'b', 'j', 'N', '\x01', '\x11', '\x1c', 'z', '\x1d', '\x04', 'K', '\x1a', '_', '|', 'x', '.', 'l', '6', 'n', 'X', 'V', '\x06', '\n', 'y', 'w', '\x18', '\x7f', '^', '$', '\x15', '\x12', 'D', 'Z', '\x03', 'W', 'B', '\x1e', 'c', '\x16', '\r', '@', '%', '7', '\x02', '\x10', '\x13', 'r', '2', '\x00', 'H', ';', 'g', 'I', 'q', '+', ':', '<', 'J', '1', '5', 'M', '?', 'Q', "'"]
	rotorV 						= ['W', 'g', '\x02', '2', '6', "'", '5', '\x13', 'F', '$', '\x01', 'q', '\x0f', '\x06', '-', 'u', 'Z', 'f', '\x0e', 'V', 'L', '|', ':', 'I', '\x18', ',', '\x08', '\x1c', '\x05', 'J', '~', '\x19', '3', '\x16', '&', '+', 'w', '*', 'y', ' ', '\x11', '@', '\x00', '\r', 'R', 'A', 'j', '{', 'Y', 'X', '\x14', 'U', 'k', '\x04', 'l', '\x7f', '\\', 'o', '?', 'T', '\x10', '\x17', '\x1d', '\x1b', ';', 't', '7', 'S', 'O', '.', 'x', 'm', 'E', 'r', '\x1a', 'c', 'z', 'B', '=', '"', '4', 'M', '\x0b', '\n', 'i', 'h', '9', 'n', 'G', '!', '1', '\x07', 'K', '0', 'd', ']', '_', '8', '}', '[', 'C', '%', 'v', 'N', '\t', 'a', '^', 'e', '`', 'Q', '#', 'P', '\x15', 'b', 'p', '\x0c', '/', '\x12', 'H', 's', '>', '\x1f', '\x1e', 'D', ')', '<', '\x03', '(']
	rotorVI 					= ['m', '7', '\r', 'k', '\x12', ',', 'i', '}', '9', '*', '\x02', 'A', 'z', 'w', 'd', 'n', 'Y', '?', 'M', 'P', 'D', '\x18', '\x10', 'R', '-', '4', 'v', '\x00', '[', '\x19', '\x0e', 'j', '#', "'", '\x1c', 'E', '6', 'J', 'W', '|', 'N', '\x1d', 'S', ' ', '~', 'H', '<', '8', ']', ':', '\x0f', '\x04', '\x01', 'u', 'b', '\x16', 't', 'L', 'T', 'K', 'X', 'c', 'e', '\x08', '%', '!', '\x13', 'o', '\x07', 'Z', 'Q', '&', 'I', 'V', 'B', '\x7f', '\x1b', '@', '5', 'f', 'g', '`', 'r', '\\', '\x03', '$', 'h', '_', '1', '\x0b', '3', '\n', 'a', '"', '\x17', 'G', 'p', 's', '.', ';', '=', 'C', '0', '^', 'O', '\x15', ')', '\x11', '\x1f', '2', '{', 'U', 'q', 'F', 'l', 'x', '\x14', '\x1e', 'y', '\x1a', '\x05', '+', '(', '\x06', '>', '\t', '/', '\x0c']
	rotorVII					= ['^', '\\', 'i', 'C', '\x13', 'Y', '\x11', 'N', '"', '\x1b', '\x1f', '\x0c', 'w', '\x07', '\t', '.', '\x1c', 'e', '5', '#', 'E', '+', '<', 'S', '\x19', '*', '|', ',', '\x06', '$', 'G', 'k', 'H', ':', '\x12', 'X', 'h', '0', 'b', '\x0f', '9', '\x1a', 'L', '>', 'm', '\x0e', 'K', '7', ')', 'y', '\x04', 'V', ';', 'c', '\x01', '\x02', '6', 'I', 'v', '4', 'W', '\x15', '{', 'J', 'q', 'T', 'u', "'", 's', 'n', '\x14', '\x1d', '\x1e', '\x00', 'r', 'U', '[', '-', 'l', '}', '\x0b', 'o', 'p', '=', 'x', 't', '`', 'R', 'P', '\x08', '\x16', '@', '\r', 'd', '\x05', '?', '%', ' ', '8', 'B', '\n', ']', 'j', '&', '~', 'Q', '3', 'f', 'O', '!', 'a', 'F', '2', '\x10', '(', '1', 'A', '\x18', 'D', '_', '\x7f', 'g', '\x17', '/', '\x03', 'M', 'Z', 'z']
	rotorVIII					= ['M', '\x18', 'k', 'y', 'K', 'x', '<', '\x0f', '3', '9', 'f', '\x0e', 'D', '?', '#', ';', '\x7f', 'h', '\x08', '[', '=', '_', '\x1d', 'j', 'u', '6', ',', '\x00', 'd', '\\', 'w', '\x1f', '-', '\x02', 'Z', '\x01', '4', 'I', 'p', '\x03', '!', '+', 'n', 'g', 'l', '%', '\x06', 'z', '&', 'Y', 'E', '*', '^', '(', 'A', 'Q', 'b', 's', 'O', 'T', ' ', 'P', 'm', 'i', 'N', 'X', "'", '"', '\x0b', 'J', '{', 'o', '2', '\x1e', '\x17', ')', 'G', '0', '\x07', '1', '7', '8', '\x19', '@', 'W', '\t', 'e', '\n', '\x1b', ':', '\x10', '/', 'C', '`', 'U', '.', '\x1c', 'S', ']', '|', 'r', '}', '\x04', '\x11', 'c', '\x14', 'L', '\x05', '\x12', '>', '\r', 'v', 't', '\x0c', '\x13', '$', '\x1a', 'R', 'B', '\x16', '~', '5', 'q', 'H', 'V', '\x15', 'a', 'F']
	rotorIX						= [' ', '8', '\n', '\x03', 'b', 'q', '[', 'B', 'M', 'i', '\x0f', '\x11', '\x1a', '\x01', '\x12', 'c', 'K', '\x14', '\x08', '?', 'F', '|', 'J', 'j', 'o', '\x13', '\x18', 'R', 'z', '"', 'e', '\x1d', 'u', '{', '*', '\x7f', '$', '\x02', '%', '\x16', '7', '\x0c', ',', '2', 'G', '\x19', '9', '5', '_', '^', '-', 'h', '+', '\t', '\x0b', '\x17', 'U', 'w', '\x15', '#', 'k', ']', 'N', 'C', '(', 'g', '\x1e', '6', '@', '=', 'I', '.', '4', '3', ';', '/', 'r', 'P', 'O', 'E', 'n', 'l', '\x00', 'a', 'H', '\x04', 'x', '>', '0', '&', 'v', 's', ')', '\x1b', '`', 'W', 'A', "'", 'X', 'S', '\x06', '!', 'd', 't', 'V', '\x05', 'Q', '\x07', ':', '\x1f', 'L', 'y', '\x1c', 'D', '\\', 'p', '\x10', '<', '\r', '~', 'Y', 'm', 'Z', '1', 'f', '\x0e', 'T', '}']
	iPhoneX 					= ['m', 'p', 'K', 'e', 'Q', 'z', '7', 'k', '\x00', 'R', '\x0f', '\\', '\x08', '[', 'N', '@', '#', ';', 'b', 'y', '4', '\x1f', '.', 'i', 'H', '\t', '0', '*', '9', '\x0c', '>', 't', 'D', 'A', '^', '\n', 'T', '\r', 'I', 'o', "'", '\x0e', 'd', 'v', '5', 'c', 'J', '/', 'q', '+', '\x03', 'S', 'f', 'P', '8', '\x02', ']', ':', '1', '\x10', '|', 'E', '%', 'l', 'M', 'X', '\x1a', 'L', '\x1c', '\x07', 'r', '\x17', '`', '2', 'g', '\x19', '(', ')', '6', ',', '\x7f', '\x12', ' ', '"', '<', '~', '\x1d', 'j', '\x06', '\x15', 'V', 'u', '?', '_', 'x', '-', 'B', '\x0b', '{', '=', 'G', 's', '\x05', 'O', 'Z', 'F', '\x11', '\x04', '!', 'U', 'w', 'C', 'n', '}', '&', '\x18', 'h', '\x1b', '\x14', 'W', '\x01', '$', '3', 'a', '\x16', '\x13', '\x1e', 'Y']
	rotorXI						= ['P', '#', 'H', '|', 'v', 'a', '\x00', '&', '\x14', '\x0b', '\t', 'b', 'T', 'Z', '\x11', 'r', '!', 'q', 'M', '\x15', ' ', '1', 'p', 'E', '+', '3', 'c', ')', ':', 'j', '\\', '\x08', '%', '\x1a', '}', 'Y', '\x01', '.', 's', 'w', 'm', 'S', 'W', ']', '8', '\r', 'k', '\x1b', '\x18', '<', '(', '~', 'i', '\x1c', '?', '\x13', '5', 'B', 'x', '2', ',', 'R', 't', '\x04', '$', 'F', '\x1d', 'g', 'z', '=', '\x0f', 'f', 'I', 'J', '\x07', 'V', '*', '\x17', '\x06', '"', '\x19', '\x16', 'd', 'K', '[', '`', '\x12', '/', 'u', '^', '6', '-', '\x1f', '\x05', 'L', 'l', '7', '>', '\x1e', 'A', 'y', '\x0e', '\x03', '\x10', 'X', '0', 'n', 'C', 'o', '\n', '\x02', '9', ';', 'e', '_', 'U', '4', 'h', 'Q', 'O', '\x7f', '\x0c', 'G', '@', '{', "'", 'N', 'D']
	rotorXII					= ['H', 'p', '\x16', 'A', '\x14', ']', '\x19', 'n', 'E', '`', '9', 'S', 'r', 'v', 'V', '\x0f', 'h', '\x1b', '\x04', 'K', '\x03', '\x1e', '1', 'U', '[', 'm', '/', 'C', 'X', '<', '\x12', '^', 'd', '+', '@', 'F', '{', '\x7f', '\x1c', '\x06', ';', '}', '\x02', '\x0b', 'l', '\x01', 'I', ')', '$', '\r', '(', '7', '.', 'x', 'y', 'a', ' ', '\x07', '_', '4', '!', '\n', 'Z', 'W', '2', '\x1a', '\x13', '#', 'u', '\x00', '\\', 'M', ',', '\x18', '0', '"', 'c', 'P', 'L', '|', '\x10', 'N', '\x1d', 'J', '\t', '\x1f', 'Q', '?', 'G', '8', 'o', '=', '>', 'b', 'z', 't', 's', "'", '\x0c', 'D', 'k', '\x15', '6', 'w', 'e', '\x11', '\x17', '*', '\x05', 'q', 'g', '\x0e', 'i', '~', '-', 'j', '%', '\x08', '&', 'T', 'O', 'B', '3', 'Y', 'f', ':', '5', 'R']
	rotorXIII					= ['0', 'J', '\x00', '<', '>', 's', 'C', '\x11', '\r', 'W', '2', '\x0f', '\x18', 'e', 'g', '?', 'D', 'z', '=', '\\', '^', '\x0e', '\x1e', 'l', '.', ',', '\x12', '|', '_', 'M', "'", 'Z', '\x16', ';', 'f', '\x17', 'y', '\x02', 'A', '\x15', 'r', 'B', '\x7f', '\x1a', ')', '[', 'O', 'p', '\x0c', '$', 'o', '}', '6', 'G', '+', '\x1c', '\x1b', 'h', '%', 'F', '`', '/', 'T', 'P', '3', '\x05', '#', 'i', '\x06', 'm', '*', 'H', 'S', 'd', '5', 't', 'c', 'v', '\x10', '@', 'Y', '~', 'N', '4', '\x07', '8', 'a', '\x14', ' ', '\x0b', ']', 'q', '7', '\n', '\x03', '\t', 'K', '\x04', '{', 'b', 'w', '\x08', 'V', ':', '"', '\x1f', '!', 'u', 'j', '\x19', 'R', '&', '1', 'E', '\x01', 'x', 'X', '9', '\x1d', '(', 'U', 'k', 'I', 'Q', 'L', '\x13', '-', 'n']
	rotorXIV					= [' ', '>', 'S', '\x1c', ')', '\x16', 'f', '\x19', '\x05', '\x14', 'l', '@', '-', '\x02', 'h', '4', '\x1d', 'D', 'v', '\x18', '|', '3', 'm', '5', '\x1f', '.', '"', '\x0f', ']', 'U', '2', 'O', '\t', 'p', '\x15', 'q', '\x12', '\x01', '6', 'H', ':', 'G', '`', '\r', 'b', 'i', 'J', 'a', 'L', '\x0c', '?', '\x0b', '\x10', 'k', 'o', '^', 'W', 'g', '\n', '0', 'I', '\x13', '$', '1', '<', 'A', '}', '[', '\x17', '%', "'", 'd', '/', '\x1e', '(', '~', 't', '\x1a', 'R', 'y', '9', '\x03', '+', '_', '\x1b', 'j', 'T', 'c', '\x11', 'X', '\x04', '\x0e', 'P', 's', 'Z', 'F', 'E', 'z', '\x07', '&', '\x7f', 'w', ',', 'M', 'x', '*', '\x00', 'e', '=', '7', '!', 'C', '\\', 'N', 'B', '#', '{', '8', 'n', 'Y', '\x06', 'Q', 'r', 'u', 'V', ';', 'K', '\x08']
	rotorXV						= ['/', '3', '\x18', 'i', 'A', 'P', '\x00', '?', '{', '*', 'a', 'j', '\n', 'I', 'd', 'g', '\r', '\x05', 'W', '\x14', '5', 'v', '\x04', ')', 'M', '\x19', '\x1e', '\t', 'C', 'S', 'O', 'b', '0', '^', '}', '@', '\x02', 'V', '~', 's', '\x08', ':', 'u', 'K', '\x12', ' ', 'm', '[', '4', '<', 'l', '!', '\x16', '\x1b', '\x15', 'Y', 'e', '#', '6', '+', '7', ';', 'J', 'N', '\x0e', 'B', '\x03', '|', 'n', '\x1a', '.', 'R', '\x7f', 'x', ']', '(', '=', '\x0c', '$', 'X', '1', '\\', 'r', '_', 'h', 'y', '\x13', '\x07', 'G', '9', 'D', '\x06', 'p', 'L', '&', 'Q', 'F', '\x10', 'E', 'f', '2', '`', ',', '\x01', 'Z', '\x1f', 't', "'", 'T', 'H', '>', '\x1d', '\x17', '\x1c', 'o', '%', '\x11', '-', 'q', 'c', '\x0f', 'z', '8', 'w', 'U', '\x0b', 'k', '"']
	rotorXVI					= ['0', '{', '\x06', '-', 'L', '=', 'g', 'f', ';', '\r', '\x07', '\x02', '\x18', '\x0b', 'E', '|', '8', '}', 'H', '\\', 'd', '\x7f', '\x14', '@', '\x0c', '^', 'u', 'G', 'Y', 'O', '9', 'i', '\x11', ':', '~', ' ', 'F', '%', 'j', '#', ']', 'Q', '1', 'D', 's', '&', '*', 'Z', 'e', 'm', 'a', '<', '2', 'P', 'z', '?', '\x1b', '\x05', 'W', 'N', '/', 'k', '\x0f', '\x1a', 'I', 'p', '\x12', 'q', '`', '\n', '\x13', '"', '\x04', 'M', 'T', 'S', ',', '\x19', 'r', '\x08', '\x1d', '\x15', 'n', '\x03', 'c', 'J', 'h', ')', '_', '7', 'b', 'o', '\x10', 't', 'y', 'R', '$', '3', "'", 'B', 'A', '5', '\x1f', 'l', 'w', '\x16', 'V', '\x1e', '\x00', '\x0e', '+', '\x17', 'U', '6', '!', 'v', '.', '\t', 'K', '4', 'x', '\x01', '[', '>', '(', '\x1c', 'X', 'C']

	all_rotors					= [rotorI, rotorII, rotorIII, rotorIV, rotorV, rotorVI, rotorVII, rotorVIII, rotorIX, iPhoneX, rotorXI, rotorXII, rotorXIII, rotorXIV, rotorXV, rotorXVI]
	
	def __init__(self):
		"""
		Initialzes the Rotors object with the default rotor configuration.
		"""
		self.rotor_set 			= [self.rotorI, self.rotorII, self.rotorIII, self.rotorIV, self.rotorV, self.rotorVI, self.rotorVII, self.rotorVIII, self.rotorIX, self.iPhoneX]
		
		self.rotor_limit 		= len(self.rotor_set)
		self.rotor_length 		= len(self.rotorI)
	
	def configure(self, rotor_config):
		"""
		Sets which rotors are used and in what order they are used.
		
		@type  rotor_config: string
		@param rotor_config: A hexadecimal string that sets which rotors are used and in what order
		"""
		self.config_list		= rotor_config
		self.rotor_list			= list(self.config_list)
		self.rotor_limit 		= len(self.rotor_list)

		for self.index in range (0, self.rotor_limit):
			self.rotor_key		= int(self.rotor_list[self.index], 16)
			
			if self.rotor_key 	== 0:
				self.rotor_key 	= 16
				
			self.rotor_list[self.index]	= self.all_rotors[self.rotor_key - 1]

		self.rotor_set 			= self.rotor_list
		
	def get_rotor_config(self):
		"""
		Returns the current rotor configuration
		"""
		try:
			return self.config_list
		except AttributeError:
			return "123456789A"
			